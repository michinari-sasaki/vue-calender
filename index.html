<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/vue@next"></script>
    <link rel="stylesheet" href="../assets/css/common.css" />
    <link rel="stylesheet" href="../assets/css/reset.css" />
    <title>ゴミの日アプリ</title>
  </head>
  <body>
    <div id="app">
      <header class="header">
        <div class="inner header__inner">
          <h1 class="header__title">あなたの街のゴミ出しカレンダー</h1>
          <p class="header__lead">忘れがちなゴミの日備忘カレンダーです。</p>
        </div>
      </header>
      <div class="main">
        <section class="setting">
          <dl>
            <dt><h2 class="setting__heading">ゴミの日の設定</h2></dt>
            <dd>
              <table>
                <thead>
                  <tr>
                    <th>&nbsp;</th>
                    <th>回数</th>
                    <th>曜日</th>
                    <th>確認</th>
                    <th>&nbsp;</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>燃えるゴミの日</th>
                    <td>
                      <select v-model="selected">
                        <option>毎週</option>
                        <option>毎月1回目</option>
                        <option>毎月1回目・2回目</option>
                        <option>毎月1回目・3回目</option>
                        <option>毎月1回目・4回目</option>
                        <option>毎月2回目</option>
                        <option>毎月2回目・3回目</option>
                        <option>毎月2回目・4回目</option>
                        <option>毎月3回目</option>
                        <option>毎月3回目・4回目</option>
                        <option>毎月4回目</option>
                      </select>
                    </td>
                    <td>
                      <label for="weed-1">月</label>
                      <input type="checkbox" value="月" id="weed-1" v-model="weeks" />
                      <label for="weed-2">火</label>
                      <input type="checkbox" value="火" id="weed-2" v-model="weeks" />
                      <label for="weed-3">水</label>
                      <input type="checkbox" value="水" id="weed-3" v-model="weeks" />
                      <label for="weed-4">木</label>
                      <input type="checkbox" value="木" id="weed-4" v-model="weeks" />
                      <label for="weed-5">金</label>
                      <input type="checkbox" value="金" id="weed-5" v-model="weeks" />
                      <label for="weed-6">土</label>
                      <input type="checkbox" value="土" id="weed-6" v-model="weeks" />
                      <label for="weed-7">日</label>
                      <input type="checkbox" value="日" id="weed-7" v-model="weeks" />
                    </td>
                    <td>
                      <button>{{selected}}{{week}}保存</button>
                    </td>
                  </tr>
                  <tr>
                    <th>燃えないゴミの日</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <th>資源ゴミの日</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </dd>
          </dl>
        </section>
        <section class="calender">
          <!-- <div class="inner">
            <h2 class="calender__heading">{{thisMonth}}月</h2>
            <div class="calender__list">
              <p v-for="item in this.dayArray" class="week"><span>{{item}}</span></p>
              <p v-for="item in this.startDate"><span>&nbsp;</span></p>
              <p v-for="(item,index) in this.lastDate" :key="index">
                <span v-if="item == this.toDate" class="today">{{item}}</span>
                <span v-else>{{item}}</span>
              </p>
              <p v-for="item in this.lastDay"><span>&nbsp;</span></p>
            </div>
          </div> -->
        </section>
      </div>
      <footer class="footer">2024年ゴミの日</footer>
    </div>
    <script>
      Vue.createApp({
        data: function () {
          return {
            selected: "",
            weeks: [],
            startDate: null,
            thisMonth: null,
            toDate: null,
            lastDate: null,
            lastDay: null,
            allDays: [],
            sundays: [],
            mondays: [],
            tuesdays: [],
            wednesdays: [],
            thursdays: [],
            fridays: [],
            saturdays: [],
            dayArray: ["日", "月", "火", "水", "木", "金", "土"],
          };
        },
        methods: {
          getDays: function () {
            const nowDate = new Date();
            const year = nowDate.getFullYear();
            const month = nowDate.getMonth() + 1;
            const date = nowDate.getDate();
            const day = this.dayArray[nowDate.getDay()];
          },
          calender: function () {
            //現在の日付の取得
            const nowDate = new Date();
            const year = nowDate.getFullYear();
            const month = nowDate.getMonth() + 1;
            const date = nowDate.getDate();
            const dayArray = ["日", "月", "火", "水", "木", "金", "土"];
            const day = dayArray[nowDate.getDay()];
            this.toDate = date;
            this.thisMonth = month;
            console.log("日付は" + nowDate);
            console.log(year + "年" + month + "月" + date + "日" + day + "曜日");
            //今月の月初の取得
            const startDate = new Date(year, month - 1, 1);
            this.startDate = startDate.getDay();
            console.log("月初は" + startDate.getDay());
            //今月の月末の取得
            const lastDate = new Date(year, month, 0);
            this.lastDate = new Date(year, month, 0).getDate();
            this.lastDay = parseInt(lastDate.getDay(), 10);
            this.lastDay = parseInt(this.lastDay, 10);
            this.lastDay = 6 - this.lastDay;
            console.log("月末は" + this.lastDate);
            console.log("ひづけ" + year, month);
            for (let i = 1; i <= this.lastDate; i++) {
              let oneDay = new Date(year, month - 1, i);
              oneDay = oneDay.getDay();
              this.allDays.push({ date: i, day: oneDay });
              //曜日ごとの日付を配列に格納
              // if (oneDay.getDay() == 0) {
              //   this.sundays.push(i);
              // } else if (oneDay.getDay() == 1) {
              //   this.mondays.push(i);
              // } else if (oneDay.getDay() == 2) {
              //   this.tuesdays.push(i);
              // } else if (oneDay.getDay() == 3) {
              //   this.wednesdays.push(i);
              // } else if (oneDay.getDay() == 4) {
              //   this.thursdays.push(i);
              // } else if (oneDay.getDay() == 5) {
              //   this.fridays.push(i);
              // } else if (oneDay.getDay() == 6) {
              //   this.saturdays.push(i);
              // }
            }
            console.log("hoge", this.allDays[0]);
          },
        },
        mounted: function () {
          this.calender();
          //this.shuffle();
          //this.getDays();
        },
      }).mount("#app");
    </script>
  </body>
</html>
